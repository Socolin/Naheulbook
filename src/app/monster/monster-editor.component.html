<div *ngIf="monster" class="form-horizontal">
    <div class="form-group">
        <label for="name" class="col-sm-1 control-label">Nom</label>
        <div class="col-sm-9">
            <input type="text" class="form-control" id="name" placeholder="Nom" [(ngModel)]="monster.name">
        </div>
        <div class="col-sm-2 col-xs-4 control-label btn-group">
            <button class="btn btn-default" [class.btn-info]="defenseStat === 'PRD'" (click)="setDefenseStat('PRD')">PRD</button>
            <button class="btn btn-default" [class.btn-info]="defenseStat === 'ESQ'" (click)="setDefenseStat('ESQ')">ESQ</button>
        </div>
    </div>
    <div class="form-group">
        <label for="at" class="col-sm-1 col-xs-4 control-label">AT</label>
        <div class="col-sm-2 col-xs-8">
            <input type="number" class="form-control" id="at" placeholder="AT" [(ngModel)]="monster.data.at">
        </div>
        <label for="prd" class="col-sm-1 col-xs-4 control-label">{{defenseStat}}</label>
        <div *ngIf="defenseStat === 'PRD'" class="col-sm-2 col-xs-8">
            <input type="number" class="form-control" id="prd" placeholder="PRD" [(ngModel)]="monster.data.prd">
        </div>
        <div *ngIf="defenseStat === 'ESQ'" class="col-sm-2 col-xs-8">
            <input type="number" class="form-control" id="esq" placeholder="ESQ" [(ngModel)]="monster.data.esq">
        </div>
        <label for="ev" class="col-sm-1 col-xs-4 control-label">EV</label>
        <div class="col-sm-2 col-xs-8">
            <input type="number" class="form-control" id="ev" placeholder="EV" [(ngModel)]="monster.data.ev">
        </div>
        <label for="pr" class="col-sm-1 col-xs-4 control-label">PR</label>
        <div class="col-sm-2 col-xs-8">
            <input type="text" class="form-control" id="pr" placeholder="PR" [(ngModel)]="monster.data.pr">
        </div>
    </div>
    <div class="form-group">
        <label for="cou" class="col-sm-1 col-xs-4 control-label">COU</label>
        <div class="col-sm-2 col-xs-8">
            <input type="text" class="form-control" id="cou" placeholder="COU" [(ngModel)]="monster.data.cou">
        </div>
        <label for="resm" class="col-sm-1 col-xs-4 control-label">RESM</label>
        <div class="col-sm-2 col-xs-8">
            <input type="number" class="form-control" id="resm" placeholder="RESM" [(ngModel)]="monster.data.resm">
        </div>
        <label for="dmg" class="col-sm-1 control-label">Degats</label>
        <div class="col-sm-2">
            <input type="text" class="form-control" id="dmg" placeholder="Degats" [(ngModel)]="monster.data.dmg">
        </div>
        <label for="xp" class="col-sm-1 col-xs-4 control-label">XP</label>
        <div class="col-sm-2 col-xs-8">
            <input type="number" class="form-control" id="xp" placeholder="XP" [(ngModel)]="monster.data.xp">
        </div>
    </div>
    <div class="form-group">
        <label for="ea" class="col-sm-1 col-xs-4 control-label">EA</label>
        <div class="col-sm-2 col-xs-8">
            <input type="number" class="form-control" id="ea" placeholder="EA" [(ngModel)]="monster.data.ea">
        </div>
    </div>
    <div class="form-group">
        <label for="pr" class="col-sm-1 control-label">Traits simple</label>
        <div class="col-sm-11">
            <div class="btn-group" role="group">
                <template ngFor let-trait [ngForOf]=simpleTraits>
                    <button type="button"
                            class="btn btn-default"
                            [class.btn-success]="hasTrait(trait)"
                            (click)="toggleTrait(trait)">
                        {{trait.name}}
                    </button>
                </template>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="pr" class="col-sm-1 control-label">Traits</label>
        <div class="col-sm-11">
            <div class="btn-group" role="group">
                <template ngFor let-trait [ngForOf]=powerTraits>
                    <button type="button" class="btn btn-default"
                            [class.btn-success]="hasTraitLevel(trait, 1)"
                            [class.btn-warning]="hasTraitLevel(trait, 2)"
                            [class.btn-danger]="hasTraitLevel(trait, 3)"
                            (click)="toggleTrait(trait)">
                        {{trait.name}}
                    </button>
                </template>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="pr" class="col-sm-1 control-label">Type</label>
        <div class="col-sm-11">
            <select class="form-control" (change)="selectCategory($event)">
                <option [selected]="!monster.type"></option>
                <template ngFor let-category [ngForOf]="categories">
                    <option value="{{category.id}}" [selected]="category.id == monster.type?.id">{{category.name}}</option>
                </template>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="pr" class="col-sm-1 control-label">Lieux</label>
        <div class="col-sm-11" *ngIf="locationsById">
            <span style="border-radius: 4px; background-color: #7aa09b; margin-right: 5px" *ngFor="let locationId of monster.locations">
                {{locationsById[locationId].name}} <span class="glyphicon glyphicon-remove" (click)="removeLocation(locationId)"></span>
            </span>
            <autocomplete-input [value]="locationSearchName" (onSelect)="selectLocation($event)"
                                [(callback)]="autocompleteLocationsCallback"></autocomplete-input>

        </div>
    </div>
    <!-- FIXME: WIP -->
    <div *ngIf="false" class="form-group">
        <label for="pr" class="col-sm-1 control-label">Items</label>
        <div class="col-sm-11">
            <autocomplete-input [value]="newItem?.template?.name"
                                (onSelect)="selectItemTemplate($event, newItemName)"
                                [(callback)]="autocompleteItemCallback"></autocomplete-input>
        </div>
    </div>
    <div class="form-group">
        <label for="note" class="col-sm-1 control-label">Note</label>
        <div class="col-sm-11">
            <textarea autosize rows="1" class="form-control" id="note" [(ngModel)]="monster.data.note"></textarea>
        </div>
    </div>

</div>

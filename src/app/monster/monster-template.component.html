<mat-card>
    <mat-card-header>
        <mat-card-title>{{monster.name}}</mat-card-title>
        <mat-card-subtitle>{{monster.category.type.name}} - {{monster.category.name}}</mat-card-subtitle>
        <button *ngIf="!editing" mat-icon-button (click)="editMonster()">
            <mat-icon>edit</mat-icon>
        </button>
    </mat-card-header>
    <mat-card-actions *ngIf="editing" align="end">
        <button mat-button color=primary (click)="editing=false">ANNULER</button>
        <button mat-button color=primary (click)="saveMonster()">VALIDER</button>
    </mat-card-actions>
    <mat-card-content *ngIf="!editing">
        <div *ngIf="monster.data.special">{{monster.data.note}}</div>
        <div class="monster-stat-row" *ngIf="!monster.data.special">
            <div>
                <strong>AT:</strong> {{monster.data.at}}
            </div>
            <div>
                <span *ngIf="monster.data.prd">
                    <strong>PRD:</strong> {{monster.data.prd}}
                </span>
                <span *ngIf="monster.data.esq">
                    <strong>ESQ:</strong> {{monster.data.esq}}
                </span>
            </div>
            <div>
                <strong>EV:</strong> {{monster.data.ev}}
            </div>
            <div>
                <span *ngIf="monster.data.ea">
                    <strong>EA:</strong> {{monster.data.ea}}
                </span>
            </div>

            <div *ngIf="!monster.data.special">
                <strong>PR:</strong> {{monster.data.pr}}
            </div>
            <div>
                <strong>COU:</strong> {{monster.data.cou}}
            </div>
            <div>
                <strong>XP:</strong> {{monster.data.xp}}
            </div>
            <div>
            </div>
        </div>
        <div *ngIf="!monster.data.special" class="monster-stat-row">
            <div>
                <strong>Degat:</strong> {{monster.data.dmg}}
            </div>
        </div>
        <div *ngIf="!monster.data.special" class="monster-stat-row">
            <div *ngIf="monster.data.note">
                <strong>Note</strong>: {{monster.data.note}}
            </div>
        </div>
        <div *ngIf="traisById && monster.data.traits && monster.data.traits.length">
            <div>
                <strong>Traits</strong>
            </div>
        </div>
        <div *ngIf="traisById && monster.data.traits && monster.data.traits.length" class="monster-traits-row">
            <div *ngFor="let trait of monster.data.traits">
                <monster-trait [trait]="traisById[trait.traitId]" [traitInfo]="trait"></monster-trait>
            </div>
        </div>
        <div *ngIf="monster.simpleInventory && monster.simpleInventory.length">
            <div>
                <strong>Inventaire</strong>
            </div>
            <div>
                <div *ngFor="let inventory of monster.simpleInventory">
                    {{inventory.itemTemplate.name}}
                </div>
            </div>
        </div>
    </mat-card-content>
</mat-card>


<md-card>
    <md-card-header>
        <md-card-title>{{monster.name}}</md-card-title>
        <md-card-subtitle>{{monster.type.name}} - {{monster.type.difficulty}}</md-card-subtitle>
        <button *ngIf="!editing" md-icon-button (click)="editMonster()">
            <md-icon>edit</md-icon>
        </button>
    </md-card-header>
    <md-card-content *ngIf="editing">
        <monster-editor [monster]="monster"></monster-editor>
    </md-card-content>
    <md-card-actions *ngIf="editing" align="end">
        <button md-button color=primary (click)="editing=false">ANNULER</button>
        <button md-button color=primary (click)="saveMonster(monster)">VALIDER</button>
    </md-card-actions>
    <md-card-content *ngIf="!editing">
        <div *ngIf="monster.data.special">{{monster.data.note}}</div>
        <div class="monster-stat-row" *ngIf="!monster.data.special">
            <div>
                <strong>AT:</strong> {{monster.data.at}}
            </div>
            <div>
                <span *ngIf="monster.data.prd">
                    <strong>PRD:</strong> {{monster.data.prd}}
                </span>
                <span *ngIf="monster.data.esq">
                    <strong>ESQ:</strong> {{monster.data.esq}}
                </span>
            </div>
            <div>
                <strong>EV:</strong> {{monster.data.ev}}
            </div>
            <div>
                <span *ngIf="monster.data.ea">
                    <strong>EA:</strong> {{monster.data.ea}}
                </span>
            </div>

            <div *ngIf="!monster.data.special">
                <strong>PR:</strong> {{monster.data.pr}}
            </div>
            <div>
                <strong>COU:</strong> {{monster.data.cou}}
            </div>
            <div>
                <strong>XP:</strong> {{monster.data.xp}}
            </div>
            <div>
            </div>
        </div>
        <div *ngIf="!monster.data.special" class="monster-stat-row">
            <div>
                <strong>Degat:</strong> {{monster.data.dmg}}
            </div>
        </div>
        <div *ngIf="!monster.data.special" class="monster-stat-row">
            <div *ngIf="monster.data.note">
                <strong>Note</strong>: {{monster.data.note}}
            </div>
        </div>
        <div *ngIf="traisById && monster.data.traits && monster.data.traits.length">
            <div>
                <strong>Traits</strong>
            </div>
        </div>
        <div *ngIf="traisById && monster.data.traits && monster.data.traits.length" class="monster-traits-row">
            <div *ngFor="let trait of monster.data.traits">
                <monster-trait [trait]="traisById[trait.traitId]" [traitInfo]="trait"></monster-trait>
            </div>
        </div>
        <div *ngIf="monster.simpleInventory && monster.simpleInventory.length">
            <div class="col-sm-3 col-xs-4">
                <strong>Inventaire</strong>
            </div>
            <div class="col-xs-8 col-sm-9">
                <div *ngFor="let inventory of monster.simpleInventory">
                    {{inventory.itemTemplate.name}}
                </div>
            </div>
        </div>
    </md-card-content>
</md-card>


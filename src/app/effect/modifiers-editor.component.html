<div *ngIf="modifiers && modifiers.length > 0">
	<div class="col-md-2">
		<button md-icon-button (click)="clear()"><md-icon>delete_forever</md-icon></button>
	</div>
</div>
<div *ngFor="let modifier of modifiers; let i=index" class="stat-modifier">
    <button md-icon-button (click)="removeModifier(i)"><md-icon>delete</md-icon></button>
	<span>{{modifier | modifier}}</span>
	<span *ngIf="options.indexOf('job') !== -1">
        <md-select #jobSelector [(ngModel)] ="modifier.job" placeholder="MÃ©tier">
            <md-option [value]="null"></md-option>
			<md-option *ngFor="let job of jobs" [value]="job.id">
                {{job.name}}
            </md-option>
        </md-select>
	</span>
	<span *ngIf="options.indexOf('origin') !== -1">
        <md-select #originSelector [(ngModel)] ="modifier.origin" placeholder="Origine">
            <md-option [value]="null"></md-option>
			<md-option *ngFor="let origin of origins" [value]="origin.id">
                {{origin.name}}
            </md-option>
        </md-select>
	</span>
	<div *ngIf="options.indexOf('special') !== -1">
		<button md-button color="primary" *ngIf="!modifier.special" (click)="modifier.special = []">
            Add special
        </button>
        <button md-button color="primary" *ngIf="modifier.special" (click)="modifier.special = null">
            Remove special
        </button>
		<div *ngIf="modifier.special">
			<div *ngFor="let v of specialsValue">
                <md-checkbox [checked]="modifier.special.indexOf(v) !== -1" (change)="toggleSpecial(i, v, $event)">
                    {{v}}
                </md-checkbox>
			</div>
		</div>
	</div>
</div>
<div class="large-editor">
    <div>Stat:</div>
    <md-button-toggle-group [(ngModel)]="basicSelectedStat" (change)="updateSelectedStat('basic')">
        <md-button-toggle *ngFor="let stat of basicStats" [value]="stat">
            {{stat}}
        </md-button-toggle>
    </md-button-toggle-group>
    <md-button-toggle-group [(ngModel)]="lifeSelectedStat" (change)="updateSelectedStat('life')">
        <md-button-toggle *ngFor="let stat of lifeStats" [value]="stat">
            {{stat}}
        </md-button-toggle>
    </md-button-toggle-group>
    <md-button-toggle-group [(ngModel)]="combatSelectedStat" (change)="updateSelectedStat('combat')">
        <md-button-toggle *ngFor="let stat of combatStats" [value]="stat">
            {{stat}}
        </md-button-toggle>
    </md-button-toggle-group>
    <md-button-toggle-group [(ngModel)]="magicSelectedStat" (change)="updateSelectedStat('magic')">
        <md-button-toggle *ngFor="let stat of magicStats" [value]="stat">
            {{stat}}
        </md-button-toggle>
    </md-button-toggle-group>
    <md-button-toggle-group [(ngModel)]="otherSelectedStat" (change)="updateSelectedStat('other')">
        <md-button-toggle *ngFor="let stat of stats" [value]="stat">
            {{stat}}
        </md-button-toggle>
    </md-button-toggle-group>

    <div>Modification type:</div>
    <md-button-toggle-group [(ngModel)]="selectedType">
        <md-button-toggle [value]="'ADD'">ADD</md-button-toggle>
        <md-button-toggle [value]="'MUL'">MUL</md-button-toggle>
        <md-button-toggle [value]="'DIV'">DIV</md-button-toggle>
        <md-button-toggle [value]="'SET'">SET</md-button-toggle>
        <md-button-toggle [value]="'PERCENTAGE'">PERCENTAGE</md-button-toggle>
    </md-button-toggle-group>

    <div>Valeur:</div>
    <md-button-toggle-group [(ngModel)]="value" (change)="addModifier()">
        <md-button-toggle [value]="-5">-5</md-button-toggle>
        <md-button-toggle [value]="-4">-4</md-button-toggle>
        <md-button-toggle [value]="-3">-3</md-button-toggle>
        <md-button-toggle [value]="-2">-2</md-button-toggle>
        <md-button-toggle [value]="-1">-1</md-button-toggle>
        <md-button-toggle [value]="0">0</md-button-toggle>
        <md-button-toggle [value]="1">1</md-button-toggle>
        <md-button-toggle [value]="2">2</md-button-toggle>
        <md-button-toggle [value]="3">3</md-button-toggle>
        <md-button-toggle [value]="4">4</md-button-toggle>
        <md-button-toggle [value]="5">5</md-button-toggle>
        <md-button-toggle [value]="6">6</md-button-toggle>
        <md-button-toggle [value]="7">7</md-button-toggle>
        <md-button-toggle [value]="8">8</md-button-toggle>
        <md-button-toggle [value]="9">9</md-button-toggle>
        <md-button-toggle [value]="10">10</md-button-toggle>
    </md-button-toggle-group>
    <md-form-field>
        <input mdInput placeholder="Valeur" [(ngModel)]="value" />
    </md-form-field>
</div>

<div class="small-editor">
    <md-select placeholder="Stat" [(ngModel)]="selectedStat" (change)="selectStat($event.value)">
        <md-option *ngFor="let stat of basicStats" [value]="stat">
            {{stat}}
        </md-option>
        <md-divider></md-divider>
        <md-option *ngFor="let stat of lifeStats" [value]="stat">
            {{stat}}
        </md-option>
        <md-divider></md-divider>
        <md-option *ngFor="let stat of combatStats" [value]="stat">
            {{stat}}
        </md-option>
        <md-divider></md-divider>
        <md-option *ngFor="let stat of magicStats" [value]="stat">
            {{stat}}
        </md-option>
        <md-divider></md-divider>
        <md-option *ngFor="let stat of stats" [value]="stat">
            {{stat}}
        </md-option>
    </md-select>

    <md-select placeholder="Modification type" [(ngModel)]="selectedType">
        <md-option [value]="'ADD'">ADD</md-option>
        <md-option [value]="'MUL'">MUL</md-option>
        <md-option [value]="'DIV'">DIV</md-option>
        <md-option [value]="'SET'">SET</md-option>
        <md-option [value]="'PERCENTAGE'">PERCENTAGE</md-option>
    </md-select>

    <span class="editor-value">
        <div class="label secondary-text">Valeur</div>
        <div class="value">
            <value-editor [value]="value" (onChange)="selectValue($event)"></value-editor>
        </div>
    </span>
</div>

<div class="loot-tab">
    <div class="loot-list">
        <md-card *ngFor="let loot of loots">
            <md-card-title>{{loot.name}}</md-card-title>
            <md-card-content>
                <ul>
                    <li *ngFor="let item of loot.items"
                       (click)="selectItem(item)" [class.active]="item.id == selectedItem?.id">
                        <button md-icon-button
                                (click)="takeItemFromLoot(loot, item)">
                            <md-icon>add_shopping_cart</md-icon>
                        </button>
                        <span *ngIf="item.template.data.quantifiable">{{item.data.quantity}}</span>
                        {{item.data.name}}
                        <swipeable-item-detail *ngIf="item.id === selectedItem?.id"
                                               [character]="character"
                                               [item]="item"
                                               [readonly]="true">
                        </swipeable-item-detail>
                    </li>
                </ul>
                <ul>
                    <li *ngFor="let monster of loot.monsters">
                        {{monster.name}}
                        <ul>
                            <li *ngFor="let item of monster.items"
                                (click)="selectItem(item)"
                                [class.active]="item.id == selectedItem?.id">
                                <button md-icon-button
                                        (click)="takeItemFromMonster(monster, item)">
                                    <md-icon>add_shopping_cart</md-icon>
                                </button>

                                <span *ngIf="item.template.data.quantifiable">{{item.data.quantity}}</span>
                                {{item.data.name}}
                                <swipeable-item-detail *ngIf="item.id === selectedItem?.id"
                                                       [character]="character"
                                                       [item]="item"
                                                       [readonly]="true">
                                </swipeable-item-detail>
                            </li>
                        </ul>
                    </li>
                </ul>

            </md-card-content>
        </md-card>
    </div>
    <div *ngIf="selectedItem" class="item-detail">
        <item-detail [gmView]="inGroupTab"
                     [character]="character"
                     [item]="selectedItem"
                     [readonly]="true"></item-detail>
    </div>
</div>


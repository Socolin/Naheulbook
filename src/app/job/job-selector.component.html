<md-card>
    <md-card-title>Aucun</md-card-title>
    <md-card-actions>
        <button color="primary" md-button (click)="selectJob(null)">CHOISIR</button>
    </md-card-actions>
</md-card>
<template ngFor [ngForOf]="jobs" let-job>
    <md-card *ngIf=isVisible(job) [class.disabled]="!isAvailable(job)">
        <button md-mini-fab color="primary" (click)="toggleDetail(job)">
            <md-icon *ngIf="displayDetail(job)">remove</md-icon>
            <md-icon *ngIf="!displayDetail(job)">add</md-icon>
        </button>
        <md-card-title>{{job.name}}</md-card-title>
        <md-card-subtitle>
            <md-chip-list selectable="false">
                <template ngFor [ngForOf]="job.requirements" let-req>
                    <md-chip selected="true" color="warn"    *ngIf="req.min && stats[req.stat.toLowerCase()] < req.min">
                        {{req.stat|uppercase}} &ge; {{req.min}}
                    </md-chip>
                    <md-chip selected="true" color="warn"    *ngIf="req.max && stats[req.stat.toLowerCase()] > req.max">
                        {{req.stat|uppercase}} &le; {{req.max}}
                    </md-chip>
                    <md-chip selected="true" color="primary" *ngIf="req.min && stats[req.stat.toLowerCase()] >= req.min">
                        {{req.stat|uppercase}} &ge; {{req.min}}
                    </md-chip>
                    <md-chip selected="true" color="primary" *ngIf="req.max && stats[req.stat.toLowerCase()] <= req.max">
                        {{req.stat|uppercase}} &le; {{req.max}}
                    </md-chip>
                </template>
            </md-chip-list>
        </md-card-subtitle>
        <md-card-content *ngIf="displayDetail(job)">
            <div class="description" [innerHTML]="job.playerDescription | textFormatter"></div>
            <div class="skills">
                Je suis né avec les compétences suivantes :
                <ul>
                    <li *ngFor="let skill of job.skills">
                        <span class="skill-name">{{skill.name}}</span>
                        <span *ngIf="skill.playerDescription"> : {{skill.playerDescription}}</span>
                    </li>
                </ul>
            </div>
        </md-card-content>
        <md-card-actions *ngIf="isAvailable(job)" align="end">
            <button color="primary" md-button (click)="selectJob(job)">CHOISIR</button>
        </md-card-actions>
    </md-card>
</template>

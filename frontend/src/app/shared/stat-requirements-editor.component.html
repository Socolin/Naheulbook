<div class="stat-requirements">
  @if (requirements && requirements.length > 0) {
    <div class="delete_all_button">
      <button mat-icon-button
        (click)="clear()"
        color="warn">
        <mat-icon>delete_forever</mat-icon>
      </button>
    </div>
  }

  <div class="requirements-list">
    @for (requirement of requirements; track requirement; let i = $index) {
      <div class="requirement-line">
        <button mat-icon-button
          (click)="removeRequirement(i)"
          color="accent">
          <mat-icon>delete_forever</mat-icon>
        </button>
        @if (requirement.min) {
          <div>
            Min {{requirement.stat}}: {{requirement.min}}
          </div>
        }
        @if (requirement.max) {
          <div>
            Max {{requirement.stat}}: {{requirement.max}}
          </div>
        }
      </div>
    }
  </div>
</div>

<div class="new-requirement">
  <div class="min">
    <mat-form-field>
      <input matInput
        [(ngModel)]="minValue"
        type="number"
        min="0"
        placeholder="min"/>
    </mat-form-field>
  </div>
  <div class="max">
    <mat-form-field>
      <input matInput
        [(ngModel)]="maxValue"
        type="number"
        min="0"
        placeholder="max"/>
    </mat-form-field>
  </div>
  <div>
    <mat-select placeholder="Stat" [(ngModel)]="selectedStat">
      @for (stat of basicStats; track stat) {
        <mat-option [value]="stat">
          {{stat}}
        </mat-option>
      }
      <mat-divider></mat-divider>
      @for (stat of lifeStats; track stat) {
        <mat-option [value]="stat">
          {{stat}}
        </mat-option>
      }
      <mat-divider></mat-divider>
      @for (stat of combatStats; track stat) {
        <mat-option [value]="stat">
          {{stat}}
        </mat-option>
      }
      <mat-divider></mat-divider>
      @for (stat of magicStats; track stat) {
        <mat-option [value]="stat">
          {{stat}}
        </mat-option>
      }
      <mat-divider></mat-divider>
      @for (stat of stats; track stat) {
        <mat-option [value]="stat">
          {{stat}}
        </mat-option>
      }
    </mat-select>
  </div>
  <div class="action">
    <button mat-button (click)="addRequirement()">
      <mat-icon>add</mat-icon>
    </button>
  </div>
</div>
